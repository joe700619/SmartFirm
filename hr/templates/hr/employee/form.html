{% extends 'base.html' %}

{% block title %}
{% if form.instance.pk %}編輯員工資料{% else %}新增員工資料{% endif %} | SmartFirm
{% endblock %}

{% block page_header_wrapper %}
<div class="d-flex justify-content-between align-items-center flex-grow-1">
    <h5 class="mb-0 text-nowrap">{% if form.instance.pk %}編輯員工資料{% else %}新增員工資料{% endif %}</h5>
</div>
{% endblock %}

{% block content %}
{% if form.instance.pk %}
<div class="d-flex justify-content-end mb-3">
    <div class="d-flex align-items-center">
        <a href="{% url 'hr:employee_add' %}" class="btn btn-primary btn-sm me-2">
            <i class="bi bi-plus-lg"></i> 新增員工
        </a>
        <a href="{% url 'hr:employee_list' %}" class="btn btn-outline-secondary btn-sm me-3">
            <i class="bi bi-list-ul"></i> 回到列表
        </a>
        <div class="btn-group shadow-sm">
            {% if previous_pk %}
            <a href="{% url 'hr:employee_edit' previous_pk %}" class="btn btn-outline-secondary btn-sm" title="上一筆">
                <i class="bi bi-chevron-left"></i> 上一筆
            </a>
            {% else %}
            <button class="btn btn-outline-secondary btn-sm" disabled>
                <i class="bi bi-chevron-left"></i> 上一筆
            </button>
            {% endif %}

            {% if next_pk %}
            <a href="{% url 'hr:employee_edit' next_pk %}" class="btn btn-outline-secondary btn-sm" title="下一筆">
                下一筆 <i class="bi bi-chevron-right"></i>
            </a>
            {% else %}
            <button class="btn btn-outline-secondary btn-sm" disabled>
                下一筆 <i class="bi bi-chevron-right"></i>
            </button>
            {% endif %}
        </div>
    </div>
</div>
{% endif %}
<div class="row">
    <!-- 左側：動作專區 (3欄) -->
    <div class="col-md-2">
        <div class="card mb-2">
            <div class="card-header bg-light">
                <h5 class="mb-0 card-title">動作專區</h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-primary" type="button">動作 1</button>
                    <button class="btn btn-outline-primary" type="button">動作 2</button>
                    <!-- 可以在這裡增加更多動作按鈕 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 右側：表單 (10欄) -->
    <div class="col-md-10">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">基本資料</h5>
            </div>
            <div class="card-body">
                <form method="post" novalidate>
                    {% csrf_token %}

                    <div class="row mb-3">
                        <div class="col-md-3">
                            <label for="{{ form.employee_id.id_for_label }}" class="form-label fw-bold">員工編號 <span
                                    class="text-danger">*</span></label>
                            {{ form.employee_id }}
                            {% if form.employee_id.errors %}
                            <div class="text-danger small">{{ form.employee_id.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.name.id_for_label }}" class="form-label fw-bold">姓名 <span
                                    class="text-danger">*</span></label>
                            {{ form.name }}
                            {% if form.name.errors %}
                            <div class="text-danger small">{{ form.name.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.status.id_for_label }}" class="form-label fw-bold">狀態</label>
                            {{ form.status }}
                            {% if form.status.errors %}
                            <div class="text-danger small">{{ form.status.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.group.id_for_label }}" class="form-label fw-bold">組別</label>
                            {{ form.group }}
                            {% if form.group.errors %}
                            <div class="text-danger small">{{ form.group.errors }}</div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-3">
                            <label for="{{ form.job_title.id_for_label }}" class="form-label fw-bold">職稱</label>
                            {{ form.job_title }}
                            {% if form.job_title.errors %}
                            <div class="text-danger small">{{ form.job_title.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.extension.id_for_label }}" class="form-label fw-bold">分機號碼</label>
                            {{ form.extension }}
                            {% if form.extension.errors %}
                            <div class="text-danger small">{{ form.extension.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.id_number.id_for_label }}" class="form-label fw-bold">身份證字號 <span
                                    class="text-danger">*</span></label>
                            {{ form.id_number }}
                            {% if form.id_number.errors %}
                            <div class="text-danger small">{{ form.id_number.errors }}</div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-3">
                            <label for="{{ form.mobile.id_for_label }}" class="form-label fw-bold">手機 <span
                                    class="text-danger">*</span></label>
                            {{ form.mobile }}
                            {% if form.mobile.errors %}
                            <div class="text-danger small">{{ form.mobile.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.line_id.id_for_label }}" class="form-label fw-bold">Line ID</label>
                            {{ form.line_id }}
                            {% if form.line_id.errors %}
                            <div class="text-danger small">{{ form.line_id.errors }}</div>
                            {% endif %}
                        </div>
                        <div class="col-md-3">
                            <label for="{{ form.email.id_for_label }}" class="form-label fw-bold">Email</label>
                            {{ form.email }}
                            {% if form.email.errors %}
                            <div class="text-danger small">{{ form.email.errors }}</div>
                            {% endif %}
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="{{ form.address.id_for_label }}" class="form-label fw-bold">通訊地址 <span
                                class="text-danger">*</span></label>
                        {{ form.address }}
                        {% if form.address.errors %}
                        <div class="text-danger small">{{ form.address.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="d-flex justify-content-end gap-2 mt-4">
                        <a href="{% url 'hr:employee_list' %}" class="btn btn-outline-secondary">取消</a>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-save"></i> 儲存
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}